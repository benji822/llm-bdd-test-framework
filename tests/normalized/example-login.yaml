feature: Customer login
description: Users authenticate with email and password to reach the dashboard.
scenarios:
  - name: Authenticate With Valid Credentials
    steps:
      - type: given
        text: I am on the login page
      - type: when
        text: I enter email as <E2E_USER_EMAIL>
        selector: email-input
      - type: and
        text: I enter password as <E2E_USER_PASSWORD>
        selector: password-input
      - type: and
        text: I click the submit button
        selector: submit-button
      - type: then
        text: I should see text Welcome back
        selector: dashboard-heading
    selectors:
      login-page: "[data-testid='login-page']"
      email-input: "[data-testid='email-input']"
      password-input: "[data-testid='password-input']"
      submit-button: "[data-testid='submit-button']"
      dashboard-heading: "[data-testid='dashboard-heading']"
    testData:
      email: <E2E_USER_EMAIL>
      password: <E2E_USER_PASSWORD>
  - name: Retry After Invalid Password
    steps:
      - type: given
        text: I am on the login page
      - type: when
        text: I enter email as <E2E_USER_EMAIL>
        selector: email-input
      - type: and
        text: I enter password as <E2E_INVALID_PASSWORD>
        selector: password-input
      - type: and
        text: I click the submit button
        selector: submit-button
      - type: then
        text: I should see text Invalid credentials provided
        selector: error-banner
      - type: and
        text: I enter password as <E2E_USER_PASSWORD>
        selector: password-input
      - type: and
        text: I click the submit button
        selector: submit-button
      - type: then
        text: I should see text Welcome back
        selector: dashboard-heading
    selectors:
      login-page: "[data-testid='login-page']"
      email-input: "[data-testid='email-input']"
      password-input: "[data-testid='password-input']"
      submit-button: "[data-testid='submit-button']"
      error-banner: "[data-testid='login-error']"
      dashboard-heading: "[data-testid='dashboard-heading']"
    testData:
      email: <E2E_USER_EMAIL>
      invalidPassword: <E2E_INVALID_PASSWORD>
      password: <E2E_USER_PASSWORD>
  - name: Reject Unknown Email
    steps:
      - type: given
        text: I am on the login page
      - type: when
        text: I enter email as <E2E_UNKNOWN_EMAIL>
        selector: email-input
      - type: and
        text: I enter password as <E2E_USER_PASSWORD>
        selector: password-input
      - type: and
        text: I click the submit button
        selector: submit-button
      - type: then
        text: I should see text Invalid credentials provided
        selector: error-banner
    selectors:
      login-page: "[data-testid='login-page']"
      email-input: "[data-testid='email-input']"
      password-input: "[data-testid='password-input']"
      submit-button: "[data-testid='submit-button']"
      error-banner: "[data-testid='login-error']"
    testData:
      email: <E2E_UNKNOWN_EMAIL>
      password: <E2E_USER_PASSWORD>
  - name: Block Empty Submission
    steps:
      - type: given
        text: I am on the login page
      - type: when
        text: I click the submit button
        selector: submit-button
      - type: then
        text: I should see text Please fill out this field.
        selector: required-field-message
    selectors:
      login-page: "[data-testid='login-page']"
      submit-button: "[data-testid='submit-button']"
      required-field-message: "[data-testid='required-field-message']"
    testData:
      requiredMessage: Please fill out this field.
metadata:
  specId: b9aa49ee-bcc2-4af6-be87-50f4d1c0d585
  generatedAt: '2025-10-19T15:00:00.000Z'
  llmProvider: codex
  llmModel: gpt-5-codex
  clarificationsHash: 50ef99cbe612aeb6e680f2546d2ca916e7c326196549916c5bbcefcd39a8753f
